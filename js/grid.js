!function(t){var i;window.UIkit&&(i=t(UIkit)),"function"==typeof define&&define.amd&&define("uikit-grid",["uikit"],function(){return i||t(UIkit)})}(function(t){"use strict";t.component("grid",{defaults:{colwidth:"auto",animation:!0,duration:300,gutter:0,controls:!1,filter:!1},boot:function(){t.ready(function(i){t.$("[data-uk-grid]",i).each(function(){var i=t.$(this);if(!i.data("grid"))t.grid(i,t.Utils.options(i.attr("data-uk-grid")))})})},init:function(){var i=this,e=String(this.options.gutter).trim().split(" ");this.gutterv=parseInt(e[0],10),this.gutterh=parseInt(e[1]||e[0],10),this.element.css({position:"relative"}),this.controls=null,this.options.controls&&(this.controls=t.$(this.options.controls),this.controls.on("click","[data-uk-filter]",function(e){e.preventDefault(),i.filter(t.$(this).data("ukFilter"))}),this.controls.on("click","[data-uk-sort]",function(e){e.preventDefault();var n=t.$(this).attr("data-uk-sort").split(":");i.sort(n[0],n[1])})),t.$win.on("load resize orientationchange",t.Utils.debounce(function(){i.currentfilter?i.filter(i.currentfilter):this.updateLayout()}.bind(this),100)),this.on("display.uk.check",function(){i.element.is(":visible")&&i.updateLayout()}),t.$html.on("changed.uk.dom",function(t){i.updateLayout()}),!1!==this.options.filter?this.filter(this.options.filter):this.updateLayout()},_prepareElements:function(){var t,i=this.element.children(":not([data-grid-prepared])");i.length&&(t={position:"absolute","box-sizing":"border-box",width:"auto"==this.options.colwidth?"":this.options.colwidth},this.options.gutter&&(t["padding-left"]=this.gutterh,t["padding-bottom"]=this.gutterv,this.element.css("margin-left",-1*this.gutterh)),i.attr("data-grid-prepared","true").css(t))},updateLayout:function(e){this._prepareElements();var n,r,o,a,s,d,h,u,l=e=e||this.element.children(":visible"),f=this.element.width()+2*this.gutterh+2,c=0,p=0,g=[];this.trigger("beforeupdate.uk.grid",[l]),l.each(function(e){for(u=i(this),n=t.$(this),r=u.outerWidth,o=u.outerHeight,c=0,p=0,s=0,h=g.length;s<h;s++)a=g[s],c<=a.aX&&(c=a.aX),f<c+r&&(c=0),p<=a.aY&&(p=a.aY);g.push({ele:n,top:p,left:c,width:r,height:o,aY:p+o,aX:c+r})});var m,v=0;for(s=0,h=g.length;s<h;s++){for(a=g[s],p=0,d=0;d<s;d++)m=g[d],a.left<m.aX&&m.left+1<a.aX&&(p=m.aY);a.top=p,a.aY=p+a.height,v=Math.max(v,a.aY)}v-=this.gutterv,this.options.animation?(this.element.stop().animate({height:v},100),g.forEach(function(t){t.ele.stop().animate({top:t.top,left:t.left,opacity:1},this.options.duration)}.bind(this))):(this.element.css("height",v),g.forEach(function(t){t.ele.css({top:t.top,left:t.left,opacity:1})}.bind(this))),setTimeout(function(){t.$doc.trigger("scrolling.uk.document")},2*this.options.duration*(this.options.animation?1:0)),this.trigger("afterupdate.uk.grid",[l])},filter:function(i){this.currentfilter=i,"string"==typeof(i=i||[])&&(i=i.split(/,/).map(function(t){return t.trim()}));var e={visible:[],hidden:[]};this.element.children().each(function(n){var r=t.$(this),o=r.attr("data-uk-filter"),a=!i.length;o&&(o=o.split(/,/).map(function(t){return t.trim()}),i.forEach(function(t){o.indexOf(t)>-1&&(a=!0)})),e[a?"visible":"hidden"].push(r)}),e.hidden=t.$(e.hidden).map(function(){return this[0]}),e.visible=t.$(e.visible).map(function(){return this[0]}),e.hidden.attr("aria-hidden","true").filter(":visible").fadeOut(this.options.duration),e.visible.attr("aria-hidden","false").filter(":hidden").css("opacity",0).show(),this.updateLayout(e.visible),this.controls&&this.controls.length&&this.controls.find("[data-uk-filter]").removeClass("uk-active").filter('[data-uk-filter="'+i+'"]').addClass("uk-active")},sort:function(i,e){"string"==typeof(e=e||1)&&(e="desc"==e.toLowerCase()?-1:1);var n=this.element.children();n.sort(function(n,r){return n=t.$(n),((r=t.$(r)).data(i)||"")<(n.data(i)||"")?e:-1*e}).appendTo(this.element),this.updateLayout(n.filter(":visible")),this.controls&&this.controls.length&&this.controls.find("[data-uk-sort]").removeClass("uk-active").filter('[data-uk-sort="'+i+":"+(-1==e?"desc":"asc")+'"]').addClass("uk-active")}});var i=function(){var t="Webkit Moz ms Ms O".split(" "),i=document.documentElement.style;function e(t){var i=parseFloat(t);return-1===t.indexOf("%")&&!isNaN(i)&&i}var n="undefined"==typeof console?function(){}:function(t){console.error(t)},r=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];var o,a,s,d=!1;function h(){if(!d){d=!0;var r,h=window.getComputedStyle;if(r=h?function(t){return h(t,null)}:function(t){return t.currentStyle},o=function(t){var i=r(t);return i||n("Style returned "+i+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),i},a=function(e){if(e){if("string"==typeof i[e])return e;var n;e=e.charAt(0).toUpperCase()+e.slice(1);for(var r=0,o=t.length;r<o;r++)if(n=t[r]+e,"string"==typeof i[n])return n}}("boxSizing")){var u=document.createElement("div");u.style.width="200px",u.style.padding="1px 2px 3px 4px",u.style.borderStyle="solid",u.style.borderWidth="1px 2px 3px 4px",u.style[a]="border-box";var l=document.body||document.documentElement;l.appendChild(u);var f=o(u);s=200===e(f.width),l.removeChild(u)}}}return function(t){if(h(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var i=o(t);if("none"===i.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},i=0,e=r.length;i<e;i++)t[r[i]]=0;return t}();var n={};n.width=t.offsetWidth,n.height=t.offsetHeight;for(var d=n.isBorderBox=!(!a||!i[a]||"border-box"!==i[a]),u=0,l=r.length;u<l;u++){var f=r[u],c=i[f],p=parseFloat(c);n[f]=isNaN(p)?0:p}var g=n.paddingLeft+n.paddingRight,m=n.paddingTop+n.paddingBottom,v=n.marginLeft+n.marginRight,b=n.marginTop+n.marginBottom,y=n.borderLeftWidth+n.borderRightWidth,k=n.borderTopWidth+n.borderBottomWidth,w=d&&s,x=e(i.width);!1!==x&&(n.width=x+(w?0:g+y));var W=e(i.height);return!1!==W&&(n.height=W+(w?0:m+k)),n.innerWidth=n.width-(g+y),n.innerHeight=n.height-(m+k),n.outerWidth=n.width+v,n.outerHeight=n.height+b,n}}}()});